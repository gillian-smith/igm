method:
  Type: string
  Description: "Type of method to determine the ice flow: emulated, solved, diagnostic, unified"
  Units: dimless
force_max_velbar:
  Type: float
  Description: "Upper-bound value for the velocities; applied if strictly positive"
  Units: m y^{-1}
physics:
  energy_components:
    Type: list
    Description: "List of energy components to compute; the available components are: gravity, viscosity, sliding"
    Units: dimless
  sliding:
    law: 
      Type: string
      Description: "Type of sliding law"
      Units: dimless
    weertman:
      regu:
        Type: float
        Description: "Regularization parameter for velocity magnitude"
        Units: m y^{-1}
      exponent:
        Type: float
        Description: "Weertman exponent"
        Units: dimless 
    coulomb:
      regu:
        Type: float
        Description: "Regularization parameter for velocity magnitude"
        Units: m y^{-1}
      exponent:
        Type: float
        Description: "Coulomb exponent"
        Units: dimless 
      mu:
        Type: float
        Description: "Till coefficient"
        Units: dimless
    budd:
      regu:
        Type: float
        Description: "Regularization parameter for velocity magnitude"
        Units: m y^{-1}
      exponent:
        Type: float
        Description: "Budd exponent"
        Units: dimless 
  gravity_cst:
    Type: float
    Description: "Gravitational constant"
    Units: m s^{-2}
  ice_density:
    Type: float
    Description: "Density of ice"
    Units: kg m^{-3}
  init_slidingco:
    Type: float
    Description: "Initial value for the sliding coefficient"
    Units: MPa y^{m} m^{-m}
  init_arrhenius:
    Type: float
    Description: "Initial value for the Arrhenius factor in Glen's flow law"
    Units: MPa^{-n} y^{-1}
  enhancement_factor:
    Type: float
    Description: "Enhancement factor in Glen's flow law: prefactor multiplying the arrhenius factor"
    Units: dimless
  exp_glen:
    Type: float
    Description: "Glen's flow law exponent"
    Units: dimless
  exp_weertman:
    Type: float
    Description: "Weertman's law exponent"
    Units: dimless
  regu_glen:
    Type: float
    Description: "Regularization parameter for Glen's flow law"
    Units: dimless
  dim_arrhenius:
    Type: integer
    Description: "Dimension of the Arrhenius factor; 2 for 2D, 3 for 3D"
    Units: dimless
  thr_ice_thk:
    Type: float
    Description: "Minimal value for the ice thickness in the strain-rate computation"
    Units: m
  min_sr:
    Type: float
    Description: "Minimal value for the strain rate"
    Units: y^{-1}
  max_sr:
    Type: float
    Description: "Maximum value for the strain rate"
    Units: y^{-1}
  force_negative_gravitational_energy:
    Type: boolean
    Description: "Force the gravitational energy term to be negative"
    Units: dimless
  cf_eswn:
    Type: list
    Description: "This forces calving front at the border of the domain in the side given in the list"
    Units: dimless
numerics:
  precision: 
    Type: string
    Description: "Precision type for the fields: single, double"
    Units: dimless
  ord_grad_u:
    Type: string
    Description: "Default type of norm used for the halt critera associated with the velocity"
    Units: dimless
  ord_grad_w:
    Type: string
    Description: "Default type of norm used for the halt critera associated with the weights"
    Units: dimless
  Nz:
    Type: integer
    Description: "Number of grid points for the vertical discretization"
    Units: dimless
  vert_spacing:
    Type: float
    Description: "Parameter controlling the discretization density to get more points near the bed than near the surface; a value 1.0 means uniform vertical spacing"
    Units: dimless
  staggered_grid:
    Type: integer
    Description: "Type of staggering for the horizontal discretization"
    Units: dimless
  vert_basis:
    Type: string
    Description: "Basis for the vertical discretization"
    Units: dimless
solver:
  step_size:
    Type: float
    Description: "Step size for the optimizer"
    Units: dimless
  nbitmax:
    Type: integer
    Description: "Maximum number of iterations for the optimizer"
    Units: dimless
  optimizer:
    Type: string
    Description: "Type of optimizer"
    Units: dimless
  print_cost:
    Type: boolean
    Description: "Display the cost during the optimization"
    Units: dimless
  fieldin:
    Type: list
    Description: "Input fields of the ice-flow solver"
    Units: dimless
emulator:
  fieldin:
    Type: list
    Description: "Input fields of the ice-flow emulator"
    Units: dimless
  retrain_freq:
    Type: integer
    Description: "Frequency at which the emulator is retrained"
    Units: dimless
  print_cost:
    Type: boolean
    Description: "Display the cost during the optimization"
    Units: dimless
  lr:
    Type: float
    Description: "Learning rate for the training of the emulator"
    Units: dimless
  lr_init:
    Type: None
    Description: "Initial learning rate for the training of the emulator"
    Units: dimless
  lr_decay:
    Type: float
    Description: "Decay learning-rate parameter for the training of the emulator"
    Units: dimless
  warm_up_it:
    Type: year
    Description: "Number of iteration for a warm-up period, allowing intense initial training"
    Units: dimless
  nbit_init:
    Type: integer
    Description: "Number of iterations done initially for the training of the emulator"
    Units: dimless
  nbit:
    Type: integer
    Description: "Number of iterations done at each time step for the training of the emulator"
    Units: dimless
  framesizemax:
    Type: integer
    Description: "Size of the patch used for training the emulator; this is useful for large size arrays as otherwise the GPU memory could be overloaded"
    Units: dimless
  split_patch_method:
    Type: string
    Description: "Method to split the patch for the emulator: sequential (usefull for large size arrays) or parallel"
    Units: dimless
  pretrained:
    Type: boolean
    Description: "Use a pretrained emulator instead of starting from scratch"
    Units: dimless
  name:
    Type: string
    Description: "Directory path of the pretrained ice-flow emulator; taken from the library if this is empty"
    Units: dimless
  save_model:
    Type: boolean
    Description: "Save the ice-flow emulator at the end of the simulation"
    Units: dimless
  exclude_borders:
    Type: integer
    Description: "Quick fix of the border issue; otherwise the emulator shows zero velocity at the border"
    Units: dimless
  optimizer:
    Type: string
    Description: "Type of optimizer for the emulator"
    Units: dimless
  optimizer_clipnorm:
    Type: float
    Description: "Maximum value for the gradient of each weight"
    Units: dimless
  optimizer_epsilon:
    Type: float
    Description: "Small constant for numerical stability of the Adam optimizer"
    Units: dimless
  save_cost:
    Type: string
    Description: "Name of the file containing the cost"
    Units: dimless
  output_directory:
    Type: string
    Description: "Directory of the file containing the cost"
    Units: dimless
  plot_sol:
    Type: boolean
    Description: "Plot the solution of the emulator at each time step"
    Units: dimless
  pertubate:
    Type: boolean
    Description: "Perturb the input fiels during the training"
    Units: dimless
  network:
    architecture:
      Type: string
      Description: "Type of network: cnn, unet"
      Units: dimless
    multiple_window_size:
      Type: integer
      Description: "For a U-Net, this forces window size to be a multiple of 2**N"
      Units: dimless
    activation:
      Type: string
      Description: "Type of activation function: lrelu, relu, tanh, sigmoid, ..."
      Units: dimless
    nb_layers:
      Type: integer
      Description: "Number of layers in the network"
      Units: dimless
    nb_blocks:
      Type: integer
      Description: "Number of block layers in the U-Net"
      Units: dimless
    nb_out_filter:
      Type: integer
      Description: "Number of output filters in the network"
      Units: dimless
    conv_ker_size:
      Type: integer
      Description: "Size of the convolution kernel"
      Units: dimless
    dropout_rate:
      Type: float
      Description: "Dropout rate in the CNN"
      Units: dimless
    weight_initialization:
      Type: string
      Description: "Initialization type for the network weights: glorot_uniform, he_normal, lecun_normal"
      Units: dimless
    cnn3d_for_vertical:
      Type: boolean
      Description: "Apply a 3D CNN instead of a 2D one for each horizontal layer"
      Units: dimless
    batch_norm:
      Type: boolean
      Description: "Apply a batch normalization layer"
      Units: dimless
    batch_norm:
      Type: float
      Description: "Amount of l2 regularization penalty"
      Units: dimless
    use_separable:
      Type: boolean
      Description: "Apply convolution layers that are separable"
      Units: dimless
    residual:
      Type: boolean
      Description: "Apply residual layer"
      Units: dimless
