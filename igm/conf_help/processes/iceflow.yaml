method:
  Type: string
  Description: "Type of method to determine the ice flow: emulated, solved, diagnostic, unified"
  Units: dimless
force_max_velbar:
  Type: float
  Description: "Upper-bound value for the velocities; applied if strictly positive"
  Units: m y^{-1}
physics:
  energy_components:
    Type: list
    Description: "List of energy components to compute; the available components are: gravity, viscosity, sliding"
    Units: dimless
  sliding:
    law: 
      Type: string
      Description: "Type of sliding law"
      Units: dimless
    weertman:
      regu:
        Type: float
        Description: "Regularization parameter for velocity magnitude"
        Units: m y^{-1}
      exponent:
        Type: float
        Description: "Weertman exponent"
        Units: dimless 
    coulomb:
      regu:
        Type: float
        Description: "Regularization parameter for velocity magnitude"
        Units: m y^{-1}
      exponent:
        Type: float
        Description: "Coulomb exponent"
        Units: dimless 
      mu:
        Type: float
        Description: "Till coefficient"
        Units: dimless
    budd:
      regu:
        Type: float
        Description: "Regularization parameter for velocity magnitude"
        Units: m y^{-1}
      exponent:
        Type: float
        Description: "Budd exponent"
        Units: dimless 
  gravity_cst:
    Type: float
    Description: "Gravitational constant"
    Units: m s^{-2}
  ice_density:
    Type: float
    Description: "Density of ice"
    Units: kg m^{-3}
  init_slidingco:
    Type: float
    Description: "Initial sliding coefficient `slidingco`"
    Units: MPa y^{m} m^{-m}
  init_arrhenius:
    Type: float
    Description: "Initial arrhenius factor arrhenius"
    Units: MPa^{-n} y^{-1}
  enhancement_factor:
    Type: float
    Description: "Enhancement factor multiplying the arrhenius factor"
    Units: dimless
  exp_glen:
    Type: float
    Description: "Glen's flow law exponent"
    Units: dimless
  exp_weertman:
    Type: float
    Description: "Weertman's law exponent"
    Units: dimless
  regu_glen:
    Type: float
    Description: "Regularization parameter for Glen's flow law"
    Units: dimless
  dim_arrhenius:
    Type: integer
    Description: "Dimension of the arrhenius factor (horizontal 2D or 3D)"
    Units: dimless
  thr_ice_thk:
    Type: float
    Description: "Threshold Ice thickness for computing strain rate"
    Units: m
  min_sr:
    Type: float
    Description: "Minimum strain rate"
    Units: y^{-1}
  max_sr:
    Type: float
    Description: "Maximum strain rate"
    Units: y^{-1}
  force_negative_gravitational_energy:
    Type: boolean
    Description: "Force energy gravitational term to be negative"
    Units: dimless
  cf_eswn:
    Type: list
    Description: "Positions of the calving front at the border of the domain"
    Units: dimless
numerics:
  precision: 
    Type: string
    Description: "Precision type for the fields (single/double)"
    Units: dimless
  ord_grad_u:
    Type: string
    Description: "Default type of norm used for the halt critera for the velocity"
    Units: dimless
  ord_grad_w:
    Type: string
    Description: "Default type of norm used for the halt critera for the weights"
    Units: dimless
  Nz:
    Type: integer
    Description: "Number of grid points for the vertical discretization"
    Units: dimless
  vert_spacing:
    Type: float
    Description: "Parameter controlling the discretization density to get more points near the bed than near the surface. 1.0 means equal vertical spacing."
    Units: dimless
  staggered_grid:
    Type: integer
    Description: "Type of staggering for the horizontal discretization"
    Units: dimless
  vert_basis:
    Type: string
    Description: "Basis for the vertical discretization"
    Units: dimless
solver:
  step_size:
    Type: float
    Description: "Step size for the optimizer used when solving Blatter-Pattyn in solver mode"
    Units: dimless
  nbitmax:
    Type: integer
    Description: "Maximum number of iterations for the optimizer used when solving Blatter-Pattyn in solver mode"
    Units: dimless
  optimizer:
    Type: string
    Description: "Type of Optimizer for the solver"
    Units: dimless
  print_cost:
    Type: boolean
    Description: "Display the cost during the optimization"
    Units: dimless
  fieldin:
    Type: list
    Description: "Input fields of the iceflow solver"
    Units: dimless
emulator:
  fieldin:
    Type: list
    Description: "Input fields of the iceflow emulator"
    Units: dimless
  retrain_freq:
    Type: integer
    Description: "Frequency at which the emulator is retrained, 0 means never, 1 means at each time step, 2 means every two time steps, etc."
    Units: dimless
  print_cost:
    Type: boolean
    Description: "Display the cost during the optimization"
    Units: dimless
  lr:
    Type: float
    Description: "Learning rate for the retraining of the emulator"
    Units: dimless
  lr_init:
    Type: float
    Description: "Initial Learning rate for the retraining of the emulator"
    Units: dimless
  lr_decay:
    Type: float
    Description: "Decay learning rate parameter for the training"
    Units: dimless
  warm_up_it:
    Type: integer
    Description: "Warm-up nb of iteration allowing intense initial training"
    Units: dimless
  nbit_init:
    Type: integer
    Description: "Number of iterations done at the first time step for the retraining of the emulator"
    Units: dimless
  nbit:
    Type: integer
    Description: "Number of iterations done at each time step for the retraining of the emulator"
    Units: dimless
  framesizemax:
    Type: integer
    Description: "Size of the patch used for retraining the emulator, this is useful for large size arrays, otherwise the GPU memory can be overloaded"
    Units: dimless
  split_patch_method:
    Type: string
    Description: "Method to split the patch for the emulator: sequential or parallel, sequential is usefull for large size arrays, otherwise the GPU memory can be overloaded (seeting retrain_emulator_framesizemax), parallel permits to apply a patching strategy to the whole domain"
    Units: dimless
  pretrained:
    Type: boolean
    Description: "Do we take a pretrained emulator or start from scratch?"
    Units: dimless
  name:
    Type: string
    Description: "Directory path of the deep-learning pretrained ice flow model, take from the library if empty string"
    Units: dimless
  save_model:
    Type: boolean
    Description: "Save the iceflow emulator at the end of the simulation"
    Units: dimless
  exclude_borders:
    Type: integer
    Description: "This is a quick fix of the border issue, otherwise the physics-informed emulator shows zero velocity at the border"
    Units: dimless
  optimizer:
    Type: string
    Description: "Type of Optimizer for the emulator"
    Units: dimless
  optimizer_clipnorm:
    Type: float
    Description: "If set, the gradient of each weight is individually clipped so that its norm is no higher than this value."
    Units: dimless
  optimizer_epsilon:
    Type: float
    Description: "A small constant for numerical stability for the Adam optimizer"
    Units: dimless
  save_cost:
    Type: string
    Description: ""
    Units: dimless
  output_directory:
    Type: string
    Description: ""
    Units: dimless
  plot_sol:
    Type: boolean
    Description: "Perits to plot the solution of the emulator at each time step"
    Units: dimless
  pertubate:
    Type: boolean
    Description: "pertubate the input field at training"
    Units: dimless
  network:
    architecture:
      Type: string
      Description: "This is the type of network, it can be cnn or unet"
      Units: dimless
    multiple_window_size:
      Type: integer
      Description: "If a U-net, this forces window size to be a multiple of 2**N"
      Units: dimless
    activation:
      Type: string
      Description: "Activation function, it can be lrelu, relu, tanh, sigmoid, etc."
      Units: dimless
    nb_layers:
      Type: integer
      Description: "Number of layers in the CNN"
      Units: dimless
    nb_blocks:
      Type: integer
      Description: "Number of block layers in the U-net"
      Units: dimless
    nb_out_filter:
      Type: integer
      Description: "Number of output filters in the CNN"
      Units: dimless
    conv_ker_size:
      Type: integer
      Description: "Size of the convolution kernel"
      Units: dimless
    dropout_rate:
      Type: float
      Description: "Dropout rate in the CNN"
      Units: dimless
    weight_initialization:
      Type: string
      Description: "glorot_uniform, he_normal, lecun_normal"
      Units: dimless
    cnn3d_for_vertical:
      Type: boolean
      Description: "Apply a 3D CNN instead of a 2D one for each horizontal layer"
      Units: dimless
    batch_norm:
      Type: boolean
      Description: "Apply a batch normlization layer"
      Units: dimless
    l2_reg:
      Type: float
      Description: "Amount of l2 regularization penalty"
      Units: dimless
    use_separable:
      Type: boolean
      Description: "Apply convolution layers that are separable"
      Units: dimless
    residual:
      Type: boolean
      Description: "Apply residual layer"
      Units: dimless
